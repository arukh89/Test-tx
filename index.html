<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TX Battle Royale</title>

    <!-- âœ… Farcaster Mini App embed -->
    <meta
      name="fc:miniapp"
      content='{
        "version":"1",
        "imageUrl":"https://testtx.netlify.app/og.png",
        "button":{
          "title":"ðŸŽ® Play Now",
          "action":{
            "type":"launch_frame",
            "name":"TX Battle Royale",
            "url":"https://testtx.netlify.app/",
            "splashImageUrl":"https://testtx.netlify.app/icons/splash.png",
            "splashBackgroundColor":"#1a1a1a"
          }
        }
      }'
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- SPLASH SCREEN -->
    <div id="splashScreen" class="splash-screen">
      <img src="icons/splash.png" alt="Splash Logo" class="splash-logo" />
      <h1 class="splash-title">TX Battle Royale</h1>
    </div>

    <!-- MAIN GAME UI -->
    <div id="gameScreen" class="game-screen" style="display: none">
      <header class="app-header">
        <img src="icons/icon-192.png" alt="App Icon" class="app-icon" />
        <h1 class="app-title">TX Battle Royale</h1>
      </header>

      <main class="app-main">
        <!-- Status Bar -->
        <section class="status-section">
          <p id="statusMessage">Waiting for players...</p>
        </section>

        <!-- Current Block -->
        <section class="block-section">
          <h2>Current Block</h2>
          <p id="currentBlock">Loading...</p>
        </section>

        <!-- Controls -->
        <section class="controls-section">
          <button id="joinBtn">Join Game</button>
          <button id="shareBtn">Share</button>
          <button id="prevBlockBtn">Prev Block</button>
          <button id="currBlockBtn">Current Block</button>
        </section>

        <!-- Prediction -->
        <section class="prediction-section">
          <h2>Make Your Prediction</h2>
          <input
            type="number"
            id="predictionInput"
            placeholder="Enter transaction count"
          />
          <button id="submitPredictionBtn">Submit</button>
        </section>

        <!-- Players -->
        <section class="players-section">
          <h2>Players</h2>
          <p id="playerCount">0 players joined</p>
          <div id="playersContainer" class="players-container"></div>
        </section>

        <!-- Chat -->
        <section class="chat-section">
          <h2>Chat</h2>
          <div id="chatMessages" class="chat-messages"></div>
          <input type="text" id="chatInput" placeholder="Type a message..." />
          <button id="chatSendBtn">Send</button>
        </section>

        <!-- Leaderboard -->
        <section class="leaderboard-section">
          <h2>Leaderboard</h2>
          <ul id="leaderboardList"></ul>
        </section>

        <!-- Wallet -->
        <section class="wallet-section">
          <button id="connectWalletBtn">Connect Wallet</button>
        </section>
      </main>

      <footer class="app-footer">
        <p>
          Frontend:
          <a href="https://testtx.netlify.app/" target="_blank"
            >https://testtx.netlify.app/</a
          >
        </p>
        <p>
          Backend:
          <a
            href="https://3ffe2d34-7fa9-4492-bdc8-68e9a2b9f021-00-3hy09jgnwmhu3.sisko.replit.dev/"
            target="_blank"
            >Backend API</a
          >
        </p>
      </footer>
    </div>

    <!-- CONFIG + SCRIPTS -->
    <script src="config.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <!-- âœ… Pakai UMD build, bukan module -->
    <script src="https://unpkg.com/@farcaster/miniapp-sdk/dist/index.umd.js"></script>
    <script src="app.js"></script>
  </body>
</html>
